<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />

<title>OUseful Info: Link Referencing Bookmarklet</title>

<link rel="stylesheet" href="./styles-site.css" type="text/css" />
<link rel="alternate" type="application/rss+xml" title="RSS" href="http://feeds.feedburner.com/ouseful" />

<link rel="start" href="./" title="Home" />
<link rel="prev" href="./005914.html" title="Search Hubs and Bounded Search" />

<link rel="next" href="./005936.html" title="Chatting About Web Pages: Just Another Form of Annotation?" />


<script type="text/javascript" language="javascript">
<!--

function OpenTrackback (c) {
    window.open(c,
                    'trackback',
                    'width=480,height=480,scrollbars=yes,status=yes');
}

var HOST = 'blogs.open.ac.uk';

// Copyright (c) 1996-1997 Athenia Associates.
// http://www.webreference.com/js/
// License is granted if and only if this entire
// copyright notice is included. By Tomer Shiran.

function setCookie (name, value, expires, path, domain, secure) {
    var curCookie = name + "=" + escape(value) + ((expires) ? "; expires=" + expires.toGMTString() : "") + ((path) ? "; path=" + path : "") + ((domain) ? "; domain=" + domain : "") + ((secure) ? "; secure" : "");
    document.cookie = curCookie;
}

function getCookie (name) {
    var prefix = name + '=';
    var c = document.cookie;
    var nullstring = '';
    var cookieStartIndex = c.indexOf(prefix);
    if (cookieStartIndex == -1)
        return nullstring;
    var cookieEndIndex = c.indexOf(";", cookieStartIndex + prefix.length);
    if (cookieEndIndex == -1)
        cookieEndIndex = c.length;
    return unescape(c.substring(cookieStartIndex + prefix.length, cookieEndIndex));
}

function deleteCookie (name, path, domain) {
    if (getCookie(name))
        document.cookie = name + "=" + ((path) ? "; path=" + path : "") + ((domain) ? "; domain=" + domain : "") + "; expires=Thu, 01-Jan-70 00:00:01 GMT";
}

function fixDate (date) {
    var base = new Date(0);
    var skew = base.getTime();
    if (skew > 0)
        date.setTime(date.getTime() - skew);
}

function rememberMe (f) {
    var now = new Date();
    fixDate(now);
    now.setTime(now.getTime() + 365 * 24 * 60 * 60 * 1000);
    setCookie('mtcmtauth', f.author.value, now, '', HOST, '');
    setCookie('mtcmtmail', f.email.value, now, '', HOST, '');
    setCookie('mtcmthome', f.url.value, now, '', HOST, '');
}

function forgetMe (f) {
    deleteCookie('mtcmtmail', '', HOST);
    deleteCookie('mtcmthome', '', HOST);
    deleteCookie('mtcmtauth', '', HOST);
    f.email.value = '';
    f.author.value = '';
    f.url.value = '';
}

//-->
</script>





</head>

<body>

<div id="banner">
<h1><a href="./" accesskey="1">OUseful Info</a></h1>
<span class="description"><em>Quirk. Strangeness. Charm.</em> And all in Search of OU 2.0... Exploring the potential of Web 2.0 techniques and applications in higher and distance education, informal and lifelong learning. </span>
</div>

<div id="container">

<div class="blog">

<div id="menu">
<a href="./005914.html">&laquo; Search Hubs and Bounded Search</a> |

<a href="./">Main</a>
| <a href="./005936.html">Chatting About Web Pages: Just Another Form of Annotation? &raquo;</a>

</div>

</div>


<div class="blog">

<h2 class="date">March 13, 2006</h2>

<div class="blogbody">

<h3 class="title">Link Referencing Bookmarklet</h3>

<p>Today's half hour bookmarklet hack is inspired (again) by Library Clips, this time with respect to a request for <a href='http://libraryclips.blogsome.com/2006/03/13/a-list-of-hyperlink-urls-for-a-printed-webpage/'>A list of hyperlink URL's for a printed webpage</a>:</p>

<blockquote>Do you ever have a problem when reading a printed page from a blog or a website that you come across a word that has an underline under it as it is a hyperlink, and you wonder where does this link to…not only can you not launch to this hyperlink, but you don’t even know it’s URL…so the printed page is very limited in this aspect.

<p>... I would like to hit a bookmarklet to generate a list of hyperlinks on a given webpage, and then secondly be able to print this as a numbered list of hyperlinks placed at the end of the print out, and each number would match up to an annotated number on each hyperlink in the body of the page.</blockquote></p>

<p>OK - here's a quick attempt: <a href="javascript:void(d=document);void(l=d.getElementsByTagName('a'));if (l.length!=0){void(ll=d.createElement('ul'));var j=1;for (i=0;i<l.length; i++) {void(r=l[i].getAttribute('href'));if (r) if (r.indexOf('http://')==0) {void(a=' ['+j+']');void(n=d.createTextNode(a));void(l[i].appendChild(n));void(li=d.createElement('li'));void(r='['+j+'] '+r);void(j++);void(lt=d.createTextNode(r));void(li.appendChild(lt));void(ll.appendChild(li));};};void(b=d.getElementsByTagName('body'));void(b[0].appendChild(ll));}">LinkRefs</a> bookmarklet.</p>

<p>The bookmarklet (only tested (?err, not quite, tried out on a couple of pages where it sort of works)) as ever on Firefox will add a reference number to every anchor tag (&lt;a&gt; with an <em>href</em> attribute starting <em>http://</em>, and then print a numbered reference list of URLs at the end of the page.</p>

<p>There are some severe styling issues, as trying out the bookmarklet on John's post shows, but at other times the effect can be almost useful (e.g. try the bookmarklet out on  <a href="./cat_projects.html">this page</a>).</p>

<p>My laptop isn't connected to a printer, so I don't know what happens if you print the page (i.e. whether the dynamically added annotations are sent to the printer, or just the original page. (Please let me know if you try it out whether it works for printing or not).</p>

<p>For this to be useable, I think you'd need to find a way of working out - and specifying easily - which links you want automatically referencing, and how to display them in a page rich with CSS layout features.</p>

<p>I guess it could work in a templated environment, e.g. where you know the page structure and can perhaps just pull out links in a content area wrapped by a <em>div</em> tag with a particular <em>id</em>.</p>

<p>One thing this bookmarklet suggests to me is that being able to rapidly prototype bookmarklets/mini applications can help in refining user requiements.</p>

<p>So for example, how might the <a href='http://libraryclips.blogsome.com/2006/03/13/a-list-of-hyperlink-urls-for-a-printed-webpage/'>orginal, informal bookmarklet</a> spec be refined given the problems turned up by the rapid prototype? ;-)</p>

<a name="more"></a>


<span class="posted">Posted by ajh59 at March 13, 2006 10:43 AM

<!--

 

-->

<br /></span>

</div>



<div class="comments-head"><a name="comments"></a>Comments</div>

<div class="comments-body">
<p>Wow, you are fast...</p>
<span class="comments-post">Posted by: <a href="http://libraryclips.blogsome.com">John Tropea</a> at March 14, 2006 01:07 AM</span>
</div>






</div>
</div>
<script src="http://feeds.feedburner.com/~s/ouseful?i=./005929.html" type="text/javascript" charset="utf-8"></script>
<script src="http://www.google-analytics.com/urchin.js" type="text/javascript">
</script>
<script type="text/javascript">
_uacct = "UA-571814-1";
urchinTracker();
</script>
</body>
</html>
