<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<head>

<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />

<title>OUseful Info: Searching for Sites that Link to the Target of a TinyURL</title>

<link rel="stylesheet" href="./styles-site.css" type="text/css" />
<link rel="alternate" type="application/rss+xml" title="RSS" href="http://feeds.feedburner.com/ouseful" />

<link rel="start" href="./" title="Home" />
<link rel="prev" href="./014242.html" title="Being Human - Human-Computer Interaction in the Year 2020" />

<link rel="next" href="./014244.html" title="Twittershow - Modifying Feedshow to Provide Twitter Powered Presentations" />


<script type="text/javascript" language="javascript">
<!--

function OpenTrackback (c) {
    window.open(c,
                    'trackback',
                    'width=480,height=480,scrollbars=yes,status=yes');
}

var HOST = 'blogs.open.ac.uk';

// Copyright (c) 1996-1997 Athenia Associates.
// http://www.webreference.com/js/
// License is granted if and only if this entire
// copyright notice is included. By Tomer Shiran.

function setCookie (name, value, expires, path, domain, secure) {
    var curCookie = name + "=" + escape(value) + ((expires) ? "; expires=" + expires.toGMTString() : "") + ((path) ? "; path=" + path : "") + ((domain) ? "; domain=" + domain : "") + ((secure) ? "; secure" : "");
    document.cookie = curCookie;
}

function getCookie (name) {
    var prefix = name + '=';
    var c = document.cookie;
    var nullstring = '';
    var cookieStartIndex = c.indexOf(prefix);
    if (cookieStartIndex == -1)
        return nullstring;
    var cookieEndIndex = c.indexOf(";", cookieStartIndex + prefix.length);
    if (cookieEndIndex == -1)
        cookieEndIndex = c.length;
    return unescape(c.substring(cookieStartIndex + prefix.length, cookieEndIndex));
}

function deleteCookie (name, path, domain) {
    if (getCookie(name))
        document.cookie = name + "=" + ((path) ? "; path=" + path : "") + ((domain) ? "; domain=" + domain : "") + "; expires=Thu, 01-Jan-70 00:00:01 GMT";
}

function fixDate (date) {
    var base = new Date(0);
    var skew = base.getTime();
    if (skew > 0)
        date.setTime(date.getTime() - skew);
}

function rememberMe (f) {
    var now = new Date();
    fixDate(now);
    now.setTime(now.getTime() + 365 * 24 * 60 * 60 * 1000);
    setCookie('mtcmtauth', f.author.value, now, '', HOST, '');
    setCookie('mtcmtmail', f.email.value, now, '', HOST, '');
    setCookie('mtcmthome', f.url.value, now, '', HOST, '');
}

function forgetMe (f) {
    deleteCookie('mtcmtmail', '', HOST);
    deleteCookie('mtcmthome', '', HOST);
    deleteCookie('mtcmtauth', '', HOST);
    f.email.value = '';
    f.author.value = '';
    f.url.value = '';
}

//-->
</script>





</head>

<body>

<div id="banner">
<h1><a href="./" accesskey="1">OUseful Info</a></h1>
<span class="description"><em>Quirk. Strangeness. Charm.</em> And all in Search of OU 2.0... Exploring the potential of Web 2.0 techniques and applications in higher and distance education, informal and lifelong learning. </span>
</div>

<div id="container">

<div class="blog">

<div id="menu">
<a href="./014242.html">&laquo; Being Human - Human-Computer Interaction in the Year 2020</a> |

<a href="./">Main</a>
| <a href="./014244.html">Twittershow - Modifying Feedshow to Provide Twitter Powered Presentations &raquo;</a>

</div>

</div>


<div class="blog">

<h2 class="date">April 14, 2008</h2>

<div class="blogbody">

<h3 class="title">Searching for Sites that Link to the Target of a TinyURL</h3>

<p>Last week - I think - I came across a RESTful way in to a set of JSON returning Google search web services, that let you call on individual Google search engines (the main web search engine, the booksearch engine, the blogsearch engine, and so on) and get nice clean data set results back (albeit, not necessarily many at a time). If you're impatient for the detail, check the service(s) out here: Google AJAX Search API (<a href="http://code.google.com/apis/ajaxsearch/documentation/reference.html#_intro_fonje">Flash and other Non-Javascript Environments</a>).</p>

<p><a href="http://code.google.com/apis/ajaxsearch/documentation/reference.html#_intro_fonje" title="Photo Sharing"><img src="http://farm4.static.flickr.com/3042/2411708876_1a9d390be5.jpg" alt="Google JSON search APIs" style="border: 0pt none ;" height="214" width="500" /></a></p>

<p>What this means of course is that now Google searches becomes trivially available within Yahoo Pipes (without the need for screenscraping). So for example, here's a way of seeing what pages Google thinks link to a particular web page using the <em>link:</em> search limit:</p>

<p><a href="http://pipes.yahoo.com/pipes/pipe.info?_id=8pHZqo0I3RGBZ3x06kjTQA" title="Photo Sharing"><img src="http://farm4.static.flickr.com/3088/2410894547_f9eef0ea3e.jpg" alt="pipes google link search" style="border: 0pt none ;" height="296" width="500" /></a></p>

<p>Given an input URL (via the pipe's homepage, or as an argument in the pipe's URL), the String Regex block rewrites the url- e.g. <em>http://www.open.ac.uk</em> - in the form <em>link:wwww.open.ac.uk</em>. <em>link:</em> is a Google advanced search query search limit that says 'find me the sites that link to the following URL".  (<a href="http://www.google.com/help/features.html">Google Web Search Features - Who Links to You?</a>)</p>

<p>THe URL builder then constructs the URL of a query to the Google AJAX API. Depending on the actual service URL used in the URL builder, this might return results from the Google web search engine or the blogsearch engine, for example.</p>

<p>The Fetch Data block can receive XML or JSON feeds as input. In this case, we're receiving JSON from the Google AJAX (JSON) API.</p>

<p>If you've been reading OUseful.info over the last few days, you'll know I've been playing with various TinyURL related pipes (e.g. <a style="text-decoration: none;" href="./014197.html">The delicious history of a TinyURL</a>).</p>

<p>So here's another one. A service that takes a TinyURL and then sees, via the Google web service, what web pages and what blog pages link to the page the TinyURL actual refers to... <a href="http://pipes.yahoo.com/pipes/pipe.info?_id=caa47cb2b123ca36cb4f21256a4eb033">TinyURL inlinks pipe (blog and web).</p>

<p>Firstly, we decode the TinyURL using something I prepared earlier ;-)</p>

<p></a><a href="http://pipes.yahoo.com/pipes/pipe.info?_id=caa47cb2b123ca36cb4f21256a4eb033" title="Photo Sharing"><img src="http://farm3.static.flickr.com/2139/2410915143_b905fc7a9f.jpg" alt="tinyurl inlinks" style="border: 0pt none ;" height="136" width="500" /></a></p>

<p>The spilt takes the URL in two directions. One strand is going to seed the blogsearch, the other the web search.</p>

<p>Here's the blog search path:</p>

<p><a href="http://pipes.yahoo.com/pipes/pipe.info?_id=caa47cb2b123ca36cb4f21256a4eb033" title="Photo Sharing"><img src="http://farm4.static.flickr.com/3277/2410949287_40d5edb8f6.jpg" alt="pipes blogsearch inlinks" style="border: 0pt none ;" height="404" width="500" /></a></p>

<p>The loop block cycles through each item in the feed (in fact, there is only a single item, and that contains the URL pointed to by the TinyURL) and passes it to the URL inlinks (blog search) pipe. This nested pipe accepts a URL (passed from the title of the feed item that entered the Loop block) and uses it as an argument in a Google blog search AJAX API request. The result is used to replace the feed item that entered the block.</p>

<p>The format of the result is still in the form returned from the web service, so the Rename block makes sure that a valid RSS feed item response is produced. </p>

<p>The two strands then get merged and actually passed through a regular expression that tidies up some escaped characters:</p>

<p><a href="http://pipes.yahoo.com/pipes/pipe.info?_id=caa47cb2b123ca36cb4f21256a4eb033" title="Photo Sharing"><img src="http://farm3.static.flickr.com/2348/2410938261_1829654c13.jpg" alt="tinyurl inlinks pipe regexp" style="border: 0pt none ;" height="215" width="500" /></a></p>

<p>Easy :-)<div class="flockcredit" style="text-align: right; color: #CCC; font-size: x-small;">Blogged with the <a href="http://www.flock.com/blogged-with-flock" style="color: #999; font-weight: bold;" target="_new" title="Flock Browser">Flock Browser</a></div><!-- technorati tags begin --><p style="font-size:10px;text-align:right;">Tags: <a href="http://technorati.com/tag/google" rel="tag">google</a>, <a href="http://technorati.com/tag/search" rel="tag">search</a>, <a href="http://technorati.com/tag/%20REST" rel="tag"> REST</a></p><!-- technorati tags end --></p>

<a name="more"></a>


<span class="posted">Posted by ajh59 at April 14, 2008 10:37 AM

<!--

 

-->

<br /></span>

</div>




<div class="comments-head"><a name="comments"></a>Comments</div>

<div class="comments-body">
<p>Thanks for the Google search API link.<br />
You can get more results by using the rsz parameter with a value of "large", and even more results by using a simple front-end such as http://pipes.yahoo.com/pipes/pipe.info?_id=WCnVdSIK3RG9oS6fLe2fWQ</p>
<span class="comments-post">Posted by: <a href="mailto&#58;paul&#64;pdaniel&#46;co&#46;uk">hapdaniel</a> at April 14, 2008 02:17 PM</span>
</div>






</div>
</div>

<script type="text/javascript">


</script>
<script type="text/javascript">



</script>

</body>
</html>
